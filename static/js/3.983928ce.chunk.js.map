{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","components/Profile/ProfileInfo/ProfileDataForm.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/PostForm.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx"],"names":["module","exports","ProfileStatusWithHooks","status","useSelector","state","profilePage","useState","newStatus","setNewStatus","editMode","setEditMode","dispatch","useDispatch","useEffect","type","value","autoFocus","onBlur","updateUserStatus","onChange","e","currentTarget","onDoubleClick","ProfileFormRedux","reduxForm","form","profile","handleSubmit","error","onSubmit","className","s","groupError","createField","Input","Textarea","Object","keys","contacts","map","key","classes","ProfileData","goToEditMode","isOwner","onClick","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","entries","contactTitle","contactValue","Contact","ProfileInfo","props","Preloader","content","description","src","photos","large","DefaultPhoto","ava","alt","target","files","length","saveAva","initialValues","FormData","saveProfile","Post","item","message","id","like","maxLength","maxLengthCreator","PostReduxForm","required","MyPosts","React","memo","posts","values","actions","addPost","newPost","p","i","Profile","ProfileContainer","userId","this","match","params","history","push","getUserProfile","getUserStatus","refreshProfile","prevProps","prevState","Component","compose","connect","withRouter","withAuthRedirect"],"mappings":"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","file":"static/js/3.983928ce.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"ProfileInfo_description__3k9Gk\",\"content\":\"ProfileInfo_content__VLLji\",\"back\":\"ProfileInfo_back__17Lei\",\"ava\":\"ProfileInfo_ava__2-1a-\",\"contacts\":\"ProfileInfo_contacts__fVrvk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__1LFHP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1CAaS\"};","import React, {ChangeEvent, FC, useEffect, useState} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStoreType} from \"../../../Redux/redux-store\";\r\nimport {updateUserStatus} from \"../../../Redux/profile-reducer\";\r\n\r\n\r\n\r\nconst ProfileStatusWithHooks: FC = () => {\r\n\r\n    const status = useSelector((state: AppRootStoreType) => state.profilePage.status)\r\n\r\n    const [newStatus, setNewStatus] = useState(status)\r\n    const [editMode, setEditMode] = useState(false)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(()=>{\r\n        setNewStatus(status)\r\n    },[status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        dispatch(updateUserStatus(newStatus))\r\n    }\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setNewStatus(e.currentTarget.value)\r\n    }\r\n    return (\r\n        <div>\r\n            {!editMode ?\r\n                 <span onDoubleClick={activateEditMode}><b>Status</b>: {status || '-------'}</span> :\r\n                <input type=\"text\" value={newStatus}\r\n                       autoFocus={true} onBlur={deactivateEditMode}\r\n                       onChange={onStatusChange}/>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import {profileType} from \"../../../Redux/profile-reducer\";\r\nimport React from \"react\";\r\nimport {createField, Input, Textarea} from \"../../common/FormControls/FormControls\";\r\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport classes from \"./ProfileInfo.module.css\";\r\nimport s from '../../common/FormControls/FormControls.module.css'\r\n\r\ntype ProfileDataType = { profile: profileType }\r\ntype ProfileDataKeysType = keyof profileType\r\n\r\nconst ProfileDataForm: React.FC<InjectedFormProps<profileType, ProfileDataType> & ProfileDataType> = ({\r\n                                                                                                          profile,\r\n                                                                                                          handleSubmit,\r\n                                                                                                          error\r\n                                                                                                      }) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        <button>Save</button>\r\n        {error && <div className={s.groupError}>{error}</div>}\r\n        <b>Full name</b>:\r\n        {createField<ProfileDataKeysType>('Your name', 'fullName', [], Input)}\r\n\r\n        <b>Looking for a job</b>:\r\n        {createField<ProfileDataKeysType>('', 'lookingForAJob', [], Input, {type: 'checkbox'})}\r\n\r\n        <b>My professional skills</b>:\r\n        {createField<ProfileDataKeysType>('Your professional skills', 'lookingForAJobDescription', [], Textarea)}\r\n\r\n        <b>About me</b>:\r\n        {createField<ProfileDataKeysType>('Write about yourself something', 'aboutMe', [], Textarea)}\r\n\r\n        <div>\r\n            <b>Contacts</b>: {Object.keys(profile.contacts).map(key => {\r\n            return <div key={key} className={classes.contacts}>\r\n                <b>{key}: {createField(key, 'contacts.' + key, [], Input)}</b>\r\n            </div>\r\n        })}\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst ProfileFormRedux = reduxForm<profileType, ProfileDataType>({form: 'edit-profile-form'})(ProfileDataForm)\r\n\r\nexport default ProfileFormRedux","import React, {ChangeEvent, useState} from 'react';\r\nimport classes from './ProfileInfo.module.css'\r\nimport {profileType, saveAva, saveProfile} from \"../../../Redux/profile-reducer\";\r\nimport {Preloader} from \"../../common/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport DefaultPhoto from \"../../../assets/images/Default_User_Icon.png\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStoreType} from \"../../../Redux/redux-store\";\r\n\r\ntype PropsType = {\r\n    isOwner: boolean\r\n}\r\n\r\nconst ProfileInfo = (props: PropsType) => {\r\n\r\n    const profile = useSelector((state: AppRootStoreType) => state.profilePage.profile)\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    if (!profile) { //if props.profile === nul || props.profile === undefind\r\n        return <Preloader/>\r\n    }\r\n\r\n    const newAvaHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files && e.target.files.length) {//или if (e.target.files?.lenght)\r\n            dispatch(saveAva(e.target.files[0]))\r\n        }\r\n    }\r\n\r\n    const onSubmit = (FormData: profileType) => {\r\n        setEditMode(false)\r\n        dispatch(saveProfile(FormData))\r\n\r\n    }\r\n    return <div className={classes.content}>\r\n\r\n        <div className={classes.description}>\r\n            <img src={profile.photos.large || DefaultPhoto} className={classes.ava} alt='yps'/>\r\n        </div>\r\n        {props.isOwner && <input type={'file'} onChange={newAvaHandler}/>}\r\n\r\n        <div>\r\n            <ProfileStatusWithHooks />\r\n        </div>\r\n\r\n        {editMode ?\r\n            <ProfileDataForm initialValues={profile} profile={profile} onSubmit={onSubmit}/> :\r\n            <ProfileData goToEditMode={()=>{setEditMode(true)}}\r\n                         profile={profile}\r\n                         isOwner={props.isOwner}/>}\r\n    </div>\r\n}\r\n\r\ntype ProfileDataType = {\r\n    profile: profileType\r\n    goToEditMode: () => void\r\n    isOwner: boolean\r\n}\r\n\r\nconst ProfileData: React.FC<ProfileDataType> = ({goToEditMode, profile, isOwner}) => {\r\n    return <div>\r\n        {isOwner && <button onClick={goToEditMode}>Edit</button>}\r\n        <div>\r\n            <b>Full name</b>: {profile.fullName && profile.fullName}\r\n        </div>\r\n        <div>\r\n            <b>Looking for a job</b>: {profile.lookingForAJob ? 'Yes' : 'Nope'}\r\n            {profile.lookingForAJob && <div><b>My professional skills</b>:{profile.lookingForAJobDescription}</div>}\r\n        </div>\r\n        <div>\r\n            <b>About me</b>: {profile.aboutMe}\r\n        </div>\r\n        <div>\r\n            <b>Contacts</b>: {Object.entries(profile.contacts).map(key => {\r\n            return <Contact key={key[0]} contactTitle={key[0]} contactValue={key[1]}/>\r\n        })}\r\n        </div>\r\n    </div>\r\n}\r\n\r\ntype ContactType = {\r\n    contactTitle: string\r\n    contactValue: string | null\r\n}\r\n\r\nexport const Contact: React.FC<ContactType> = ({contactTitle, contactValue}) => {\r\n    return <div className={classes.contacts}><b>{contactTitle}</b>: <b>{contactValue}</b></div>\r\n}\r\n\r\nexport default ProfileInfo;\r\n","import React from 'react';\r\nimport classes from './Post.module.css'\r\nimport {postType} from \"../../../../Redux/profile-reducer\";\r\n\r\n\r\nconst Post: React.FC<postType> = (props) => {\r\n    return <div className={classes.item}>\r\n        <img\r\n            src=\"data:image/jpeg;base64,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\"\r\n            alt=\"\"/>\r\n        {props.message}\r\n        {props.id}\r\n        <div>\r\n            <span>like {props.like}</span>\r\n        </div>\r\n    </div>\r\n\r\n\r\n}\r\n\r\nexport default Post;\r\n","import React from \"react\";\r\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utilits/validators/validators\";\r\nimport {createField, Textarea} from \"../../common/FormControls/FormControls\";\r\n\r\nexport type PostFormType = {\r\n    newPost: string\r\n}\r\n\r\nconst maxLength = maxLengthCreator(10)\r\ntype PostFormDataKeysType = Extract<keyof PostFormType, string>\r\n\r\nconst PostForm = (props: InjectedFormProps<PostFormType>) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                {createField<PostFormDataKeysType>('Enter new post', 'newPost', [required, maxLength], Textarea)}\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst PostReduxForm = reduxForm<PostFormType>({form: 'posts'})(PostForm)\r\n\r\nexport default PostReduxForm","import React, {FC} from 'react';\r\nimport classes from './MyPosts.module.css'\r\nimport Post from \"./Post/Post\";\r\nimport PostReduxForm, {PostFormType} from \"./PostForm\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStoreType} from \"../../../Redux/redux-store\";\r\nimport {actions} from \"../../../Redux/profile-reducer\";\r\n\r\n\r\nexport const MyPosts: FC = React.memo(() => {\r\n\r\n    const posts = useSelector((state: AppRootStoreType) => state.profilePage.posts)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const PostHandler = (values: PostFormType) => {\r\n        dispatch(actions.addPost(values.newPost))\r\n    }\r\n\r\n    return <div className={classes.posts}>\r\n        <h4>My posts</h4>\r\n        <PostReduxForm onSubmit={PostHandler}/>\r\n        <div><h3>New post</h3></div>\r\n        <div className={classes.posts}>\r\n            {posts.map((p, i) => <Post key={i} id={p.id} message={p.message} like={p.like}/>)}\r\n        </div>\r\n    </div>\r\n\r\n})\r\n","import React from 'react';\r\nimport classes from './Profile.module.css'\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport {MyPosts} from \"./MyPosts/MyPosts\";\r\n\r\n\r\ntype PropsType = {\r\n    isOwner: boolean\r\n}\r\n\r\nconst Profile = (props: PropsType) => {\r\n\r\n\r\n    return <div className={classes.content}>\r\n        <ProfileInfo isOwner={props.isOwner} />\r\n        <MyPosts />\r\n    </div>\r\n\r\n}\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {\r\n    getUserProfile,\r\n    getUserStatus,\r\n    initialStateTypeofProfile, profileType,\r\n    saveAva, saveProfile,\r\n    updateUserStatus\r\n} from \"../../Redux/profile-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppRootStoreType} from \"../../Redux/redux-store\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\ntype PathParamsType = {\r\n    userId: string | undefined\r\n}\r\ntype PropsType = RouteComponentProps<PathParamsType> & initialStateTypeofProfile & mapDispatchType\r\n\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = '19639'\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\")\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId)\r\n        this.props.getUserStatus(userId)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<PropsType>, prevState: Readonly<{}>) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <Profile {...this.props}\r\n                        isOwner={!this.props.match.params.userId}\r\n        />\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state: AppRootStoreType): initialStateTypeofProfile => ({\r\n    posts: state.profilePage.posts,\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n})\r\ntype mapDispatchType = {\r\n    getUserProfile: (userId: string) => void\r\n    getUserStatus: (userId: string) => void\r\n    updateUserStatus: (status: string) => void\r\n    saveAva: (ava: File) => void\r\n    saveProfile: (profileFormData: profileType) => void\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {getUserProfile, getUserStatus, updateUserStatus, saveAva, saveProfile}),\r\n    withRouter, withAuthRedirect\r\n)(ProfileContainer)\r\n\r\n\r\n"],"sourceRoot":""}